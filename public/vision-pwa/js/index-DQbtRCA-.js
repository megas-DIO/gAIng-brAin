import{j as e,C as ye,S as be,O as Ne,V as we,u as te,a as X,B as ve,c as Se}from"../chunks/three-CdEe9X0j.js";import{r as h,R as ke}from"../chunks/vendor-CVDnmApk.js";import{T as $,S as ae,F as Ce,R as re,A as Me,C as z,Z as _,a as P,B as O,U as Te,L as De,b as I,c as Ae,d as q,e as Re,f as ne,g as le,M as Pe,h as Le,V as Oe,i as $e,j as Ie,k as _e,X as Fe}from"../chunks/icons-QJCldGZ0.js";import{R as B,P as Be,a as Ee,C as Ue,T as E,L as ze,b as J,X as Y,Y as Z,c as Q,d as ee,B as Ke,e as U}from"../chunks/charts-CjwJp2Tt.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function g(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=g(r);fetch(r.href,l)}})();const Ve={pending:P,in_progress:_,completed:z,failed:Me},He={pending:"text-yellow-400 bg-yellow-400/10",in_progress:"text-blue-400 bg-blue-400/10",completed:"text-green-400 bg-green-400/10",failed:"text-red-400 bg-red-400/10"},We={low:"border-gray-600",medium:"border-yellow-500",high:"border-red-500"};function Ge({missions:a,onCreateMission:c,newMission:g,setNewMission:n,selectedAgent:r,setSelectedAgent:l,agents:f,onRefresh:v}){const[S,d]=h.useState("all"),[y,s]=h.useState("all"),o=a.filter(t=>!(S!=="all"&&t.status!==S||y!=="all"&&t.priority!==y)),N=t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),c())};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total",value:a.length,color:"from-blue-500 to-cyan-500"},{label:"Pending",value:a.filter(t=>t.status==="pending").length,color:"from-yellow-500 to-orange-500"},{label:"In Progress",value:a.filter(t=>t.status==="in_progress").length,color:"from-purple-500 to-pink-500"},{label:"Completed",value:a.filter(t=>t.status==="completed").length,color:"from-green-500 to-emerald-500"}].map(t=>e.jsxs("div",{className:`bg-gradient-to-br ${t.color} p-4 rounded-lg`,children:[e.jsx("p",{className:"text-sm text-white/80",children:t.label}),e.jsx("p",{className:"text-3xl font-bold text-white",children:t.value})]},t.label))}),e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx($,{className:"w-5 h-5 mr-2 text-omega-accent"}),"Create New Mission"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:g,onChange:t=>n(t.target.value),onKeyPress:N,placeholder:"Describe the mission objective...",className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg p-3 text-white placeholder-gray-400 focus:outline-none focus:border-omega-accent resize-none",rows:"3"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("select",{value:r,onChange:t=>l(t.target.value),className:"flex-1 bg-gray-900/50 border border-gray-600 rounded-lg p-3 text-white focus:outline-none focus:border-omega-accent",children:f.map(t=>e.jsxs("option",{value:t.id,children:[t.name," - ",t.specialty]},t.id))}),e.jsxs("button",{onClick:c,disabled:!g.trim(),className:"px-6 py-3 bg-gradient-to-r from-omega-accent to-omega-purple rounded-lg font-semibold hover:shadow-lg hover:shadow-omega-accent/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Deploy"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ce,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:S,onChange:t=>d(t.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-omega-accent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"failed",children:"Failed"})]}),e.jsxs("select",{value:y,onChange:t=>s(t.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-omega-accent",children:[e.jsx("option",{value:"all",children:"All Priority"}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg hover:bg-gray-700 transition-all",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]}),e.jsx("div",{className:"space-y-3",children:o.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx($,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),e.jsx("p",{children:"No missions found. Create one to get started!"})]}):o.map(t=>{const m=Ve[t.status]||P;return e.jsx("div",{className:`bg-gray-800/50 border-l-4 ${We[t.priority]} rounded-lg p-4 hover:bg-gray-800 transition-all`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("div",{className:`px-3 py-1 rounded-full ${He[t.status]} flex items-center space-x-2`,children:[e.jsx(m,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium capitalize",children:t.status.replace("_"," ")})]}),e.jsx("span",{className:"text-xs text-gray-400",children:t.agent||"Unassigned"}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(t.created).toLocaleString()})]}),e.jsx("h3",{className:"text-lg font-medium text-white mb-1",children:t.title}),t.deadline&&e.jsxs("p",{className:"text-xs text-gray-400 flex items-center mt-2",children:[e.jsx(P,{className:"w-3 h-3 mr-1"}),"Deadline: ",new Date(t.deadline).toLocaleString()]})]}),e.jsx("div",{className:"ml-4",children:e.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.priority==="high"?"bg-red-500/20 text-red-400":t.priority==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:t.priority})})]})},t.id)})})]})}function oe({agents:a,selectedAgent:c,setSelectedAgent:g}){const[n,r]=h.useState([]),[l,f]=h.useState(""),[v,S]=h.useState(!1),d=h.useRef(null);h.useEffect(()=>{s()},[c]),h.useEffect(()=>{y()},[n]);const y=()=>{d.current?.scrollIntoView({behavior:"smooth"})},s=async()=>{try{const C=await(await fetch(`/api/messages?recipient=${c}&limit=50`)).json();C.ok&&C.messages&&r(C.messages.map(T=>({id:T.id,sender:T.sender,content:T.content,timestamp:T.created_at,type:T.message_type})))}catch(m){console.error("Failed to load messages:",m)}},o=async()=>{if(!l.trim())return;const m={id:Date.now(),sender:"user",content:l,timestamp:new Date().toISOString(),type:"text"};r(C=>[...C,m]),f(""),S(!0);try{const T=await(await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:"user",recipient:c,content:l,message_type:"text"})})).json();T.ok&&T.message&&setTimeout(async()=>{try{const u=await(await fetch("/api/llm/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:`You are ${c}, an AI agent. ${a.find(b=>b.id===c)?.specialty||""}`},{role:"user",content:l}],max_tokens:500})})).json();u.ok&&u.response?.choices?.[0]?.message?.content?r(b=>[...b,{id:Date.now(),sender:c,content:u.response.choices[0].message.content,timestamp:new Date().toISOString(),type:"text"}]):r(b=>[...b,{id:Date.now(),sender:c,content:"Message received. I'll process this request.",timestamp:new Date().toISOString(),type:"text"}])}catch(j){console.error("LLM error:",j),r(u=>[...u,{id:Date.now(),sender:c,content:"Message received and logged.",timestamp:new Date().toISOString(),type:"text"}])}S(!1)},1e3)}catch(C){console.error("Failed to send message:",C),S(!1)}},N=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),o())},t=a.find(m=>m.id===c);return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-250px)]",children:[e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Agent"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:a.map(m=>e.jsxs("button",{onClick:()=>g(m.id),className:`p-3 rounded-lg border-2 transition-all ${c===m.id?"border-omega-accent bg-omega-accent/10":"border-gray-700 bg-gray-800 hover:border-gray-600"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:m.name})]}),e.jsx("p",{className:"text-xs text-gray-400",children:m.specialty})]},m.id))})]}),t&&e.jsx("div",{className:"bg-gradient-to-r from-omega-accent/10 to-omega-purple/10 border border-omega-accent/30 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-omega-accent to-omega-purple rounded-full flex items-center justify-center",children:e.jsx(O,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:t.name}),e.jsx("p",{className:"text-xs text-gray-300",children:t.specialty})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t.status==="online"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:t.status||"unknown"})})]})}),e.jsx("div",{className:"flex-1 bg-gray-800/30 border border-gray-700 rounded-lg p-4 overflow-y-auto scrollbar-hide mb-4",children:n.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(O,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),e.jsx("p",{children:"No messages yet. Start a conversation!"})]}):e.jsxs("div",{className:"space-y-4",children:[n.map(m=>e.jsx("div",{className:`flex ${m.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`flex items-start space-x-2 max-w-[80%] ${m.sender==="user"?"flex-row-reverse space-x-reverse":""}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${m.sender==="user"?"bg-blue-500":"bg-gradient-to-br from-omega-accent to-omega-purple"}`,children:m.sender==="user"?e.jsx(Te,{className:"w-4 h-4"}):e.jsx(O,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:`px-4 py-2 rounded-lg ${m.sender==="user"?"bg-blue-600 text-white":"bg-gray-700 text-white"}`,children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.content})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(m.timestamp).toLocaleTimeString()})]})]})},m.id)),v&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700 px-4 py-2 rounded-lg",children:[e.jsx(De,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Thinking..."})]})}),e.jsx("div",{ref:d})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("textarea",{value:l,onChange:m=>f(m.target.value),onKeyPress:N,placeholder:`Message ${t?.name||"agent"}...`,className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg p-3 text-white placeholder-gray-400 focus:outline-none focus:border-omega-accent resize-none",rows:"2"}),e.jsxs("button",{onClick:o,disabled:!l.trim()||v,className:"px-6 py-3 bg-gradient-to-r from-omega-accent to-omega-purple rounded-lg font-semibold hover:shadow-lg hover:shadow-omega-accent/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 h-full",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Send"})]})]})]})}function Xe({agents:a,onRefresh:c}){const[g,n]=h.useState({database:"unknown",websocket:"unknown",llm:"unknown",memory:"unknown"});h.useEffect(()=>{r();const d=setInterval(r,1e4);return()=>clearInterval(d)},[]);const r=async()=>{try{const y=await(await fetch("/api/health")).json();n(s=>({...s,database:y.ok?"healthy":"degraded"}));try{const o=await(await fetch("/api/llm/status")).json();n(N=>({...N,llm:o.ok&&o.ready?"healthy":"degraded"}))}catch{n(s=>({...s,llm:"offline"}))}try{const o=await(await fetch("/api/memories?limit=1")).json();n(N=>({...N,memory:o.ok?"healthy":"degraded"}))}catch{n(s=>({...s,memory:"offline"}))}n(s=>({...s,websocket:"healthy"}))}catch(d){console.error("Health check failed:",d)}},l=d=>{switch(d){case"healthy":return"text-green-400 bg-green-400/10";case"degraded":return"text-yellow-400 bg-yellow-400/10";case"offline":return"text-red-400 bg-red-400/10";default:return"text-gray-400 bg-gray-400/10"}},f=d=>{switch(d){case"healthy":return z;case"degraded":return q;case"offline":return q;default:return P}},v=a.filter(d=>d.status==="online").length,S=v/a.length*100;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[e.jsx(I,{className:"w-6 h-6 mr-3 text-omega-accent"}),"System Health"]}),e.jsxs("button",{onClick:()=>{c(),r()},className:"flex items-center space-x-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsx("div",{className:"bg-gray-900/50 rounded-lg p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[e.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-gray-700"}),e.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*56}`,strokeDashoffset:`${2*Math.PI*56*(1-S/100)}`,className:"text-omega-accent transition-all duration-1000"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-3xl font-bold",children:[Math.round(S),"%"]})})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Agent Availability"}),e.jsxs("p",{className:"text-lg font-semibold text-white",children:[v," / ",a.length," Online"]})]})}),e.jsx("div",{className:"space-y-3",children:Object.entries(g).map(([d,y])=>{const s=f(y);return e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${l(y)}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(s,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium capitalize",children:d})]}),e.jsx("span",{className:"text-sm capitalize",children:y})]},d)})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(d=>{const y=d.status==="online",s=d.last_heartbeat?new Date(d.last_heartbeat):null;return e.jsxs("div",{className:`bg-gray-800/50 border-2 rounded-lg p-4 transition-all ${y?"border-green-500/30 hover:border-green-500/50":"border-gray-700 hover:border-gray-600"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${y?"bg-gradient-to-br from-omega-accent to-omega-purple animate-pulse-slow":"bg-gray-700"}`,children:e.jsx(_,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:d.name}),e.jsx("p",{className:"text-xs text-gray-400",children:d.specialty})]})]}),e.jsx("div",{className:`w-3 h-3 rounded-full ${y?"bg-green-500 animate-pulse":"bg-gray-500"}`})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Status"}),e.jsx("span",{className:`font-medium ${y?"text-green-400":"text-gray-400"}`,children:d.status||"Unknown"})]}),s&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Last Seen"}),e.jsx("span",{className:"text-gray-300 text-xs",children:s.toLocaleTimeString()})]}),d.tasks_completed!==void 0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Tasks"}),e.jsx("span",{className:"text-omega-accent font-medium",children:d.tasks_completed||0})]}),d.avg_response_time&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Avg Response"}),e.jsxs("span",{className:"text-gray-300",children:[d.avg_response_time,"ms"]})]})]}),d.capabilities&&d.capabilities.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Capabilities"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:d.capabilities.map((o,N)=>e.jsx("span",{className:"px-2 py-1 bg-omega-accent/10 text-omega-accent text-xs rounded",children:o},N))})]})]},d.id)})}),e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2 text-gray-400"}),"System Information"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Platform"}),e.jsx("p",{className:"font-medium",children:"Node.js + Express"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Database"}),e.jsx("p",{className:"font-medium",children:"Supabase PostgreSQL"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Memory"}),e.jsx("p",{className:"font-medium",children:"Mem0 + Vector Store"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Architecture"}),e.jsx("p",{className:"font-medium",children:"Project Omega"})]})]})]})]})}const se=["#00d9ff","#a855f7","#10b981","#f59e0b","#ef4444","#8b5cf6"];function qe({missions:a,agents:c,analytics:g}){const[n,r]=h.useState("7d"),[l,f]=h.useState({missionsByStatus:[],missionsByAgent:[],completionTrend:[],agentUtilization:[]});h.useEffect(()=>{v()},[a,c,n]);const v=()=>{const s=a.reduce((j,u)=>(j[u.status]=(j[u.status]||0)+1,j),{}),o=Object.entries(s).map(([j,u])=>({name:j.replace("_"," "),value:u})),N=a.reduce((j,u)=>{const b=u.agent||"unassigned";return j[b]=(j[b]||0)+1,j},{}),t=Object.entries(N).map(([j,u])=>({agent:j,missions:u})),m=new Date,C=[];for(let j=6;j>=0;j--){const u=new Date(m);u.setDate(u.getDate()-j);const b=u.toLocaleDateString("en-US",{month:"short",day:"numeric"}),k=a.filter(R=>new Date(R.created).toDateString()===u.toDateString());C.push({date:b,created:k.length,completed:k.filter(R=>R.status==="completed").length})}const T=c.map(j=>{const u=a.filter(D=>D.agent===j.id),b=u.filter(D=>D.status==="completed").length,k=u.filter(D=>D.status==="in_progress").length,R=u.filter(D=>D.status==="pending").length;return{name:j.name,completed:b,"in progress":k,pending:R,total:u.length}});f({missionsByStatus:o,missionsByAgent:t,completionTrend:C,agentUtilization:T})},S=a.length>0?Math.round(a.filter(s=>s.status==="completed").length/a.length*100):0,d=a.filter(s=>s.status==="completed"&&s.completed_at).reduce((s,o)=>{const N=new Date(o.created),t=new Date(o.completed_at);return s+(t-N)},0)/(a.filter(s=>s.status==="completed").length||1),y=s=>{const o=Math.floor(s/36e5),N=Math.floor(s%(1e3*60*60)/(1e3*60));return o>0?`${o}h ${N}m`:`${N}m`};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx($,{className:"w-8 h-8 text-white/80"}),e.jsx(Re,{className:"w-5 h-5 text-white/60"})]}),e.jsx("p",{className:"text-sm text-white/80",children:"Total Missions"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:a.length})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ne,{className:"w-8 h-8 text-white/80"}),e.jsxs("span",{className:"text-sm text-white/80",children:[S,"%"]})]}),e.jsx("p",{className:"text-sm text-white/80",children:"Completion Rate"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:a.filter(s=>s.status==="completed").length})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(_,{className:"w-8 h-8 text-white/80"}),e.jsx("span",{className:"text-xs text-white/80",children:"Active"})]}),e.jsx("p",{className:"text-sm text-white/80",children:"Agents Online"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:[c.filter(s=>s.status==="online").length,"/",c.length]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-500 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(P,{className:"w-8 h-8 text-white/80"}),e.jsx("span",{className:"text-xs text-white/80",children:"Avg"})]}),e.jsx("p",{className:"text-sm text-white/80",children:"Completion Time"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:y(d)})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:["1d","7d","30d"].map(s=>e.jsx("button",{onClick:()=>r(s),className:`px-4 py-2 rounded-lg transition-all ${n===s?"bg-omega-accent text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:s==="1d"?"Today":s==="7d"?"Week":"Month"},s))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Missions by Status"}),e.jsx(B,{width:"100%",height:300,children:e.jsxs(Be,{children:[e.jsx(Ee,{data:l.missionsByStatus,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percent:o})=>`${s} ${(o*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:l.missionsByStatus.map((s,o)=>e.jsx(Ue,{fill:se[o%se.length]},`cell-${o}`))}),e.jsx(E,{})]})})]}),e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mission Trend (7 Days)"}),e.jsx(B,{width:"100%",height:300,children:e.jsxs(ze,{data:l.completionTrend,children:[e.jsx(J,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(Y,{dataKey:"date",stroke:"#9CA3AF"}),e.jsx(Z,{stroke:"#9CA3AF"}),e.jsx(E,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"}}),e.jsx(Q,{}),e.jsx(ee,{type:"monotone",dataKey:"created",stroke:"#00d9ff",strokeWidth:2}),e.jsx(ee,{type:"monotone",dataKey:"completed",stroke:"#10b981",strokeWidth:2})]})})]}),e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6 lg:col-span-2",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Utilization"}),e.jsx(B,{width:"100%",height:300,children:e.jsxs(Ke,{data:l.agentUtilization,children:[e.jsx(J,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(Y,{dataKey:"name",stroke:"#9CA3AF"}),e.jsx(Z,{stroke:"#9CA3AF"}),e.jsx(E,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"}}),e.jsx(Q,{}),e.jsx(U,{dataKey:"completed",stackId:"a",fill:"#10b981"}),e.jsx(U,{dataKey:"in progress",stackId:"a",fill:"#00d9ff"}),e.jsx(U,{dataKey:"pending",stackId:"a",fill:"#f59e0b"})]})})]}),e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Performers"}),e.jsx("div",{className:"space-y-3",children:l.missionsByAgent.sort((s,o)=>o.missions-s.missions).slice(0,5).map((s,o)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${o===0?"bg-yellow-500 text-black":o===1?"bg-gray-400 text-black":o===2?"bg-orange-600 text-white":"bg-gray-700 text-gray-300"}`,children:o+1}),e.jsx("span",{className:"font-medium capitalize",children:s.agent})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-omega-accent",children:s.missions}),e.jsx("p",{className:"text-xs text-gray-400",children:"missions"})]})]},s.agent))})]}),e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:a.sort((s,o)=>new Date(o.created)-new Date(s.created)).slice(0,5).map(s=>e.jsxs("div",{className:"flex items-start space-x-3 text-sm",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${s.status==="completed"?"bg-green-500":s.status==="in_progress"?"bg-blue-500":s.status==="failed"?"bg-red-500":"bg-yellow-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white",children:s.title}),e.jsxs("p",{className:"text-xs text-gray-400",children:[s.agent," â€¢ ",new Date(s.created).toLocaleString()]})]})]},s.id))})]})]})]})}function Je({activityLevel:a}){const c=h.useMemo(()=>{const n=[];for(let r=0;r<200;r++){const l=Math.acos(-1+2*r/200),f=Math.sqrt(200*Math.PI)*l;n.push(new we(4*Math.cos(f)*Math.sin(l),4*Math.sin(f)*Math.sin(l),4*Math.cos(l)))}return n},[]),g=h.useRef();return te(n=>{g.current&&(g.current.rotation.y+=.001*a,g.current.rotation.x+=5e-4*a)}),e.jsxs("group",{ref:g,children:[c.map((n,r)=>e.jsxs("mesh",{position:n,children:[e.jsx("sphereGeometry",{args:[.05,10,10]}),e.jsx("meshStandardMaterial",{color:new X().setHSL(.7,1,.5),emissive:new X().setHSL(.7,1,.5),emissiveIntensity:a*.2})]},r)),e.jsx(Ye,{points:c,activityLevel:a})]})}function Ye({points:a,activityLevel:c}){const g=h.useRef();te(()=>{g.current&&(g.current.material.opacity=.1+c*.05)});const n=h.useMemo(()=>{const r=new ve().setFromPoints(a),l=[];for(let f=0;f<a.length;f++)for(let v=f+1;v<a.length;v++)a[f].distanceTo(a[v])<1.5&&l.push(f,v);return r.setIndex(l),r},[a]);return e.jsx("lineSegments",{geometry:n,ref:g,children:e.jsx("lineBasicMaterial",{color:"#a78bfa",transparent:!0,opacity:.3})})}function Ze({agents:a,selectedAgent:c,setSelectedAgent:g}){const[n,r]=h.useState(2);return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] space-y-4",children:[e.jsxs("div",{className:"relative h-1/2 bg-black/40 rounded-xl border border-purple-500/30 overflow-hidden",children:[e.jsxs("div",{className:"absolute top-4 left-4 z-10 flex items-center space-x-4 bg-black/50 p-2 rounded-lg backdrop-blur-md border border-purple-500/20",children:[e.jsx(le,{className:"w-6 h-6 text-purple-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-white",children:"Neural Globe"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{className:"w-3 h-3 text-yellow-400"}),e.jsx("input",{type:"range",min:"0",max:"10",step:"0.1",value:n,onChange:l=>r(parseFloat(l.target.value)),className:"w-32 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),e.jsxs("span",{className:"text-xs text-gray-300 w-10",children:[n.toFixed(1),"Hz"]})]})]})]}),e.jsxs(ye,{camera:{position:[0,0,12],fov:45},children:[e.jsx("ambientLight",{intensity:.5}),e.jsx("pointLight",{position:[10,10,10],intensity:1}),e.jsx(Je,{activityLevel:n}),e.jsx(be,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),e.jsx(Ne,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:n*.2})]})]}),e.jsxs("div",{className:"flex-1 min-h-0 bg-gray-900/50 rounded-xl border border-gray-800 flex flex-col p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute pointer-events-none inset-0 bg-gradient-to-t from-purple-900/5 to-transparent"}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2 z-10",children:[e.jsx(I,{className:"w-4 h-4 text-green-400"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-300",children:"Synaptic Uplink"})]}),e.jsx("div",{className:"flex-1 overflow-hidden z-10",children:e.jsx(oe,{agents:a,selectedAgent:c,setSelectedAgent:g})})]})]})}const A=(a=800,c=100)=>{if(typeof window>"u")return;const g=new(window.AudioContext||window.webkitAudioContext),n=g.createOscillator(),r=g.createGain();n.connect(r),r.connect(g.destination),n.frequency.value=a,n.type="sine",r.gain.setValueAtTime(.3,g.currentTime),r.gain.exponentialRampToValueAtTime(.01,g.currentTime+c/1e3),n.start(g.currentTime),n.stop(g.currentTime+c/1e3)};function Qe(){const[a,c]=h.useState("mission"),[g,n]=h.useState(!1),[r,l]=h.useState(!1),[f,v]=h.useState(""),[S,d]=h.useState([]),[y,s]=h.useState(""),[o,N]=h.useState([{id:"claude",name:"Claude",status:"online",specialty:"Analysis & Architecture"},{id:"gemini",name:"Gemini",specialty:"Planning & Coordination"},{id:"codex",name:"Codex",specialty:"Quick Edits"},{id:"perplexity",name:"Perplexity",specialty:"Research"},{id:"deepseek",name:"DeepSeek",specialty:"Code Generation"},{id:"grok",name:"Grok",specialty:"Real-time Search"}]),[t,m]=h.useState("claude"),[C,T]=h.useState({totalMissions:0,completedMissions:0,activeAgents:6,avgResponseTime:0}),[j,u]=h.useState([]),b=h.useRef(null),k=h.useRef(null),R=window.speechSynthesis;h.useEffect(()=>(D(),F(),K(),()=>{b.current&&b.current.close()}),[]);const D=()=>{const p=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.hostname}:8080/ws?agent=frontend`;b.current=new WebSocket(p),b.current.onopen=()=>{console.log("WebSocket connected"),A(1200,100)},b.current.onmessage=x=>{const w=JSON.parse(x.data);ie(w)},b.current.onerror=x=>{console.error("WebSocket error:",x)},b.current.onclose=()=>{console.log("WebSocket closed, reconnecting..."),setTimeout(D,3e3)}},ie=i=>{A(900,50),i.type==="mission_update"?d(p=>p.map(x=>x.id===i.mission.id?i.mission:x)):i.type==="agent_status"&&N(p=>p.map(x=>x.id===i.agent?{...x,status:i.status}:x))},F=async()=>{try{const p=await(await fetch("/api/tasks")).json();p.ok&&p.tasks&&d(p.tasks.map(x=>({id:x.id,title:x.description||x.payload?.description||"Untitled Mission",status:x.status,agent:x.assigned_agent||"unassigned",priority:x.priority||"medium",created:x.created_at,deadline:x.deadline})))}catch(i){console.error("Failed to load missions:",i)}},K=async()=>{try{const p=await(await fetch("/api/agents")).json();p.ok&&p.agents&&N(x=>x.map(w=>{const M=p.agents.find(L=>L.name===w.id);return M?{...w,...M}:w}))}catch(i){console.error("Failed to load agent health:",i)}},ce=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Speech recognition not supported in this browser");return}const i=window.SpeechRecognition||window.webkitSpeechRecognition;k.current=new i,k.current.continuous=!0,k.current.interimResults=!0,k.current.onstart=()=>{n(!0),A(1e3,100)},k.current.onresult=p=>{const x=p.resultIndex,w=p.results[x][0].transcript;v(w),p.results[x].isFinal&&me(w)},k.current.onerror=p=>{console.error("Speech recognition error:",p.error),n(!1)},k.current.onend=()=>{n(!1)},k.current.start()},de=()=>{k.current&&(k.current.stop(),n(!1),A(800,100))},me=async i=>{console.log("Voice command:",i);try{const x=await(await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:"user",recipient:t,content:i,message_type:"voice_command"})})).json();if(x.ok&&!r){const w=new SpeechSynthesisUtterance(x.message?.content||"Command received");R.speak(w)}}catch(p){console.error("Failed to send voice command:",p)}v("")},xe=async()=>{if(y.trim())try{(await(await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:y,assigned_agent:t,priority:"medium"})})).json()).ok&&(A(1200,150),s(""),F())}catch(i){console.error("Failed to create mission:",i)}},he=async i=>{const p=Array.from(i.target.files);for(const x of p){const w=new FormData;w.append("file",x);try{if(x.type.startsWith("image/")){const L=await(await fetch("/api/eyes/analyze",{method:"POST",body:w})).json();L.ok&&(u(je=>[...je,{name:x.name,type:"image",analysis:L.description}]),A(1100,100))}}catch(M){console.error("Failed to upload file:",M)}}},[V,ge]=h.useState(null),[H,W]=h.useState(null),G=50,pe=i=>{W(null),ge(i.targetTouches[0].clientX)},ue=i=>{W(i.targetTouches[0].clientX)},fe=()=>{if(!V||!H)return;const i=V-H,p=i>G,x=i<-G,w=["mission","chat","health","analytics"],M=w.indexOf(a);p&&M<w.length-1&&(c(w[M+1]),A(900,50)),x&&M>0&&(c(w[M-1]),A(900,50))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-omega-dark via-gray-900 to-black text-white",onTouchStart:pe,onTouchMove:ue,onTouchEnd:fe,children:[e.jsx("header",{className:"border-b border-gray-800 bg-black/50 backdrop-blur-sm sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-omega-accent to-omega-purple rounded-lg flex items-center justify-center animate-glow",children:e.jsx(I,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-omega-accent to-omega-purple bg-clip-text text-transparent",children:"gAIng Brain"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Project Omega - Sovereign AI"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:g?de:ce,className:`p-3 rounded-lg transition-all ${g?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-omega-accent/20 hover:bg-omega-accent/30"}`,children:g?e.jsx(Pe,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>l(!r),className:"p-3 rounded-lg bg-gray-800 hover:bg-gray-700 transition-all",children:r?e.jsx(Oe,{className:"w-5 h-5"}):e.jsx($e,{className:"w-5 h-5"})}),e.jsxs("label",{className:"p-3 rounded-lg bg-gray-800 hover:bg-gray-700 transition-all cursor-pointer",children:[e.jsx(Ie,{className:"w-5 h-5"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*,application/pdf",className:"hidden",onChange:he})]})]})]}),f&&e.jsx("div",{className:"mt-3 p-3 bg-omega-accent/10 border border-omega-accent/30 rounded-lg",children:e.jsx("p",{className:"text-sm text-omega-accent",children:f})})]})}),e.jsx("nav",{className:"border-b border-gray-800 bg-black/30",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"flex space-x-1 overflow-x-auto scrollbar-hide",children:[{id:"mission",icon:$,label:"Missions"},{id:"neuro",icon:le,label:"Neuro-Link"},{id:"chat",icon:_e,label:"Agent Chat"},{id:"health",icon:I,label:"Health"},{id:"analytics",icon:ne,label:"Analytics"}].map(i=>e.jsxs("button",{onClick:()=>{c(i.id),A(900,50)},className:`flex items-center space-x-2 px-6 py-3 border-b-2 transition-all whitespace-nowrap ${a===i.id?"border-omega-accent text-omega-accent":"border-transparent text-gray-400 hover:text-gray-200"}`,children:[e.jsx(i.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:i.label})]},i.id))})})}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[a==="mission"&&e.jsx(Ge,{missions:S,onCreateMission:xe,newMission:y,setNewMission:s,selectedAgent:t,setSelectedAgent:m,agents:o,onRefresh:F}),a==="neuro"&&e.jsx(Ze,{agents:o,selectedAgent:t,setSelectedAgent:m}),a==="chat"&&e.jsx(oe,{agents:o,selectedAgent:t,setSelectedAgent:m}),a==="health"&&e.jsx(Xe,{agents:o,onRefresh:K}),a==="analytics"&&e.jsx(qe,{missions:S,agents:o,analytics:C})]}),j.length>0&&e.jsx("div",{className:"fixed bottom-4 right-4 space-y-2",children:j.map((i,p)=>e.jsxs("div",{className:"bg-green-500/20 border border-green-500 rounded-lg p-3 max-w-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:i.name})]}),e.jsx("button",{onClick:()=>u(x=>x.filter((w,M)=>M!==p)),className:"text-gray-400 hover:text-white",children:e.jsx(Fe,{className:"w-4 h-4"})})]}),i.analysis&&e.jsx("p",{className:"text-xs text-gray-300 mt-2",children:i.analysis})]},p))})]})}Se.createRoot(document.getElementById("root")).render(e.jsx(ke.StrictMode,{children:e.jsx(Qe,{})}));
